!function(){"use strict";let e,t,n,o;function i(){if(t)return t;const e=document.head.getAttribute("data-info");return t=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),t}!function(){if("undefined"!=typeof __webpack_require__){const t=__webpack_require__.e,n={};var e;const o=document.head.getAttribute("data-info");__webpack_require__.e=function(i){return t(i).catch((function(t){const r=n.hasOwnProperty(i)?n[i]:2;if(void 0===e&&(e=!!(o&&o.indexOf("prg-afdretry-t")>-1)),e&&2===r&&(__webpack_require__.p=__webpack_require__.p.replace("/assets.","/assets2.")),1===r)if(e){const e=new URL(__webpack_require__.p,window.location.href);__webpack_require__.p=e.href.replace(e.host,window.location.host)}else __webpack_require__.p=__webpack_require__.p.replace("/assets.","/assets2.");if(r<1)throw t;return new Promise((function(e){setTimeout((function(){n[i]=r-1,e(__webpack_require__.e(i))}),100)}))}))}}}(),function(){if("undefined"!=typeof __webpack_require__&&void 0!==__webpack_require__.tu){const e=__webpack_require__.tu;__webpack_require__.tu=function(t){return e(function(e){if("string"!=typeof e||"undefined"==typeof document)return e;const t=document.head.getAttribute("data-info");if(!(t.indexOf("ntp-akh3t")>=0||t.indexOf("ntp-akh3c")>=0))return e;const n="akmprotocol=";var o=document.cookie.split("; ").find((e=>0===e.indexOf(n)));if(o){const t=o.split("=");if(t[1])return e+(e.indexOf("?")<0?"?":"&")+n+t[1]}return e}(t))}}}();function r(e){try{return decodeURIComponent(e)}catch(e){}}function a(e,t){if(!e)return null;if(t)return function(e){var t;const n=null===(t=document.cookie)||void 0===t?void 0:t.match(`\\b${e}=([^;]*)`);return n?r(n[1]):null}(e);if(!n){const e="undefined"!=typeof document&&document.cookie.split("; ");n={};const t=e&&e.length;for(let o=0;o<t;o++){const t=e[o].indexOf("=");n[e[o].slice(0,t).toLocaleLowerCase()]=r(e[o].slice(t+1))}}const o=e.toLocaleLowerCase();return n[o]||null}var s;!function(e){e[e.Alert=0]="Alert",e[e.Deprecated=1]="Deprecated",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(s||(s={}));const d=new class{constructor(e=20){this.maxLength=20,this.list=[],this.maxLength=e}push(e){this.list.push(e),this.list.length>this.maxLength&&this.list.shift()}get data(){return this.list}};function c(t,n,r,c=s.Alert,u,w){try{const h=function(){if(!e){const t=document.head.getAttribute("data-client-settings");t&&(e=JSON.parse(t))}return e}(),m=i(),v=function(e){if(e){const{pcsInfo:t,pageGenTime:n}=e,i=new Date(n).getTime(),r=!t||["prod","prod-ssr","prod-ssrntp"].includes(t.env);o=r?"browser.events.data.msn.com":"events-sandbox.data.msn.com";return{cors:"true","content-type":"application/x-json-stream","client-id":"NO_AUTH","client-version":"1DS-Web-JS-2.2.2",apikey:r?"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279":"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028","upload-time":i,w:"0",anoncknm:"app_anon"}}return null}(h);let p="";v&&v.apikey&&""!==v.apikey&&(p=function(e){if(e){const t=e.indexOf("-");if(t>0)return e.substring(0,t)}return""}(v.apikey));const f=function(e,t,n,o,i,r,d=s.Alert){if(n){i=i||{};const{apptype:s,audienceMode:u,pagetype:w,pageGenTime:h,bundleInfo:m,deviceFormFactor:v="",fd_muid:p,os:f}=n;i.pageGenTime=h,i.build=m&&m.v,i.appType=s;const g=function(e,t,n){const o=n&&"phone"===n.toLowerCase(),i=t&&"enterprise"===t;return{bingHomepage:"binghomepage",mmx:"emmx",edge:"spartan",edgeChromium:i?"entnews":"anaheim",hybrid:"spartan",hub:o?"prime_mobile":"prime",microsoftNews:"msnews",office:"entnews",views:o?"prime_mobile":"prime",windowsShell:"windowsshell"}[e]}(s,u,v),y=g||s,b=document.getElementsByTagName("html")[0].getAttribute("lang");let S,T="",_="muid";try{if("edgeChromium"===s&&"object"==typeof window&&window.location&&window.location.search){const e=new URLSearchParams(window.location.search);S=e.has("startpage")?"msedgdhp":"msedgntp","enterprise"===u?S="entnewsntp":"xbox"===f&&(S="xboxntp")}window&&window.getCookieConsentRequired&&"function"==typeof window.getCookieConsentRequired&&window.getCookieConsentRequired()||(T=a("muid"))}catch{}T||(T=n.aid,_="aid");const x={name:"MS.News.Web.AppError",time:h,ver:"4.0",iKey:`o:${o}`,data:{baseData:{},baseType:"MS.News.Web.Base",page:{name:"default",product:y,type:l(w),content:{category:"standaloneError"},ocid:S},browser:{clientId:T,clientIdType:_},flight:{id:r},request:{activityId:n.aid,requestId:n.aid,afdMuid:p},locale:{mkt:b},extSchema:{id:e,severity:d,pb:i,message:t}}};var c;if(T&&"muid"===_)x.ext={...null==x?void 0:x.ext,user:{...null==x||null===(c=x.ext)||void 0===c?void 0:c.user,localId:`t:${T}`}};return x.data.flight.tmpl="","object"==typeof window&&(window.isSSREnabled&&(x.data.flight.tmpl+=";ssr-enabled:1"),window.isSSRCompleted&&(x.data.flight.tmpl+=";ssr-completed:1")),x?JSON.stringify(x):null}return null}(n,t,h,p,r,m,c);if(w&&!function(e){if(null==e)return!1;return e.startsWith("2")||e.startsWith("3")}(null==h?void 0:h.aid))return console.error(f),void console.error(`This App error Id: ${n} will not be sent due to app error sampling!`);if(v&&f){console.error(f),d.push(f);const e="https://"+o+"/OneCollector/1.0"+function(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}(v);if(u&&!performance.getEntriesByType("visibility-state").some((e=>"visible"===e.name))){const t=()=>{"visible"===document.visibilityState&&navigator.sendBeacon(e,f)};document.addEventListener("visibilitychange",t,{once:!0})}else navigator.sendBeacon(e,f)}}catch{}}function l(e){let t=e;switch(e){case"windowsshellhp":t="dhp";break;case"video":t="watch"}return t}class u extends HTMLElement{connectedCallback(){var e;if((null===(e=this.previousSibling)||void 0===e?void 0:e.nodeType)!==Node.COMMENT_NODE)return;const t=this.previousSibling.data;if(""!==t)try{this.jsonData=JSON.parse(t)}catch(e){c("Error parsing JSON from Comment Node",34029,{data:t,error:null==e?void 0:e.message,tagName:this.tagName})}finally{this.previousSibling.data=""}}}(()=>{var e;customElements.get("fast-ssr-style")||customElements.define("fast-ssr-style",((e=class e extends u{connectedCallback(){super.connectedCallback();const t=this.getAttribute("style-ids"),n=this.getRootNode();t&&(this.addToCache(),t.split(",").forEach((t=>{const o=e.styleCache.get(t);try{n.adoptedStyleSheets.push(o)}catch(e){c("Error setting adoptedStyleSheets",34030,{id:t,sheet:o,error:null==e?void 0:e.message})}}))),this.remove()}addToCache(){this.jsonData&&Object.keys(this.jsonData).forEach((t=>{const n=this.createStyleSheet(t);n&&e.styleCache.set(t,n)}))}createStyleSheet(e){const t=new CSSStyleSheet,n=this.jsonData[e];try{return t.replace(n),t}catch(t){c("Error creating CSSStyleSheet",34030,{key:e,styles:n,error:null==t?void 0:t.message})}}}).styleCache=new Map,e));customElements.get("ttsr-marker")||customElements.define("ttsr-marker",class extends HTMLElement{constructor(e=Math.round(performance.now())){super(),this.initTime=e}connectedCallback(){const e=this.dataset.name;e&&(window.markTTSR(e,this.initTime),"true"===this.dataset.emitEvent&&window.dispatchEvent(new Event(e)),this.remove())}}),customElements.get("ssr-data")||customElements.define("ssr-data",class extends u{connectedCallback(){super.connectedCallback(),this.jsonData&&(Object.keys(this.jsonData).forEach((e=>{window[e]=this.jsonData[e]})),this.remove())}}),customElements.get("ssr-sugi-data")||customElements.define("ssr-sugi-data",class extends u{connectedCallback(){if(super.connectedCallback(),!this.jsonData)return;const e=this.getRootNode().host;Object.keys(this.jsonData).forEach((t=>{e[t]=this.jsonData[t]})),this.remove()}}),customElements.get("ssr-func-exp")||customElements.define("ssr-func-exp",class extends u{connectedCallback(){super.connectedCallback();const e=window[this.dataset.fnName];e&&"function"==typeof e&&e(this.jsonData),this.remove()}})})();const w="1.0.21";let h,m,v;(new Date).getTime();try{m="sessionStorage"in window&&window.sessionStorage}catch(e){}try{navigator&&navigator.userAgentData&&"Windows"===navigator.userAgentData.platform&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then((e=>{v=e.platformVersion}))}catch(e){}function p(e){if(e)return e.scrollTop||0;return g&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0}function f(){const e="undefined"!=typeof document&&document.cookie;if(!g&&!e)return"";const t=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(e);return t&&t.length>1?t[1]:""}const g=!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv);function y(){let e=!1;if(g)try{if(v&&parseInt(v.split(".")[0])>=11&&(e=!0),!e&&window&&window.external&&window.external.getHostEnvironmentValue("os-build")){const t=JSON.parse(window.external.getHostEnvironmentValue("os-build"))["os-build"].split(".");(t[0]>10||10===t[0]&&t[1]>0||t[2]>=22e3)&&(e=!0)}}catch(e){}return h=!0===e||null,h}const b="1.0.21";var S;!function(e){e.JSON="application/json;charset=UTF-8",e.HTML="text/html;charset=UTF-8"}(S=S||(S={}));function T(){const e=performance.getEntriesByType("navigation")[0].serverTiming;if(e){const t=e.find((e=>"rsClusterName"===e.name));if(t)return t.description}}var _;let x;const k=JSON.parse((null===(_=document.head.dataset)||void 0===_?void 0:_.clientSettings)||"{}");let E={};function R(e){E=e}function q(e){E.integration={...E.integration,joinIds:JSON.stringify(e)}}function A(e,t,n){var o,i,r,a;const s=f(),d=E||{},c=n||{};new URLSearchParams(k.queryparams);return{name:e,time:t.toISOString(),ver:"4.0",iKey:`o:${null===(o=window.oneDSConfig)||void 0===o||null===(o=o.key)||void 0===o?void 0:o.split("-")[0]}`,data:{...d,baseType:"MS.News.Web.Base",baseData:{},page:{...d.page,canvas:"Browser",appType:k.apptype,content:{...null===(i=d.page)||void 0===i?void 0:i.content,title:document.title}},flight:{tmpl:`ssr-enabled:1;${window._sugi?"sugi:1;":""}edge.mem:${navigator.deviceMemory+""};edge.concurrency:${navigator.hardwareConcurrency+""};edge.connection:${(null===(r=navigator.connection)||void 0===r?void 0:r.effectiveType)+""}`},browser:{width:window.outerWidth,height:window.outerHeight,screenSize:[screen.width,screen.height].join("x"),clientId:s,scrollOffset:p(),anoncknm:"app_anon",cookieEnabled:navigator.cookieEnabled,isWin11:y(),muid:s},request:{activityId:k.aid,requestId:x||k.aid,afdMuid:k.fd_muid},timestamp:t.getTime(),sdk:{name:"peregrine-lite-telemetry",ver:b,schemaVer:w},build:null===(a=k.bundleInfo)||void 0===a?void 0:a.v,custom:{...d.custom,...c,"rs-cluster-name":T(),"ssr-enabled":1}},ext:{user:{localId:`t:${s}`}}}}const C="sign-in-active",N="sign-in-pending",L="sign-in-refreshed-page",O="sign-in-refresh-session";let D=new Map;const I=Object.freeze({set(e,t){return D.set(e,t),this},get:function(e,t){let n=D.get(e);return void 0===n&&t&&(n=t(),D.set(e,n)),n},clear(){D.clear()},delete:e=>D.delete(e),has:e=>D.has(e)});function M(){return"undefined"!=typeof window&&window.document&&window.document.createElement&&!window.isRenderServiceEnv?window._pageTimings||(window._pageTimings={}):I.get("__diagnostics_pageTimings",(()=>({})))}let B;const P="data-t";let j=e=>{try{const t=function(){var e,t;if(null===(e=window.oneDSConfig)||void 0===e||!e.endpoint)throw new Error("1DS endpoint not found");const n=new URL(window.oneDSConfig.endpoint);return n.searchParams.append("cors","true"),n.searchParams.append("content-type","application/x-json-stream"),n.searchParams.append("client-id","NO_AUTH"),n.searchParams.append("client-version",`peregrine-lite-telemetry-${null===(t=k.bundleInfo)||void 0===t?void 0:t.v}`),window.oneDSConfig.key&&n.searchParams.append("apikey",window.oneDSConfig.key),n.searchParams.append("upload-time",Date.now().toString()),n.searchParams.append("w","0"),n.searchParams.append("anoncknm","app_anon"),n.searchParams.append("NoResponseBody","true"),n}();navigator.sendBeacon(t,JSON.stringify(e))}catch(e){c("Error sending Lite Telemetry",34019,{error:e.message})}};function U(e){try{if(sessionStorage.getItem(C)||sessionStorage.getItem(N)||sessionStorage.getItem(L)||sessionStorage.getItem(O))return}catch(e){}window.__peregrine_litePVSent=!0;const t=A("MS.News.Web.PageView",new Date,e);(B||(B=new Promise((e=>{"visible"===document.visibilityState&&e(),document.addEventListener("visibilitychange",(function t(){"visible"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",t))}))}))),B).then((()=>{M().TimeToSendPageView=Math.round(performance.now()),j(t)}))}function $(e,t){if(e)try{const n=A("MS.News.Web.PageAction",new Date);n.data.actionType=t,["click","rightclick"].includes(t)&&(n.data.gesture=t);const o=V(e);if(o){if("search_websearch"===o.n)return;n.data.behavior=o.b,n.data.object={name:o.n,type:o.t,content:{id:o["c.i"],type:o["c.t"],headline:o["c.hl"],vertical:o["c.v"],brandId:o["c.bi"],category:o["c.c"]},ext:o.ext,destinationUrl:e.getAttribute("action")||e.href||e.getAttribute("destination-url")||""};let t=o.n||"",i=W(e);for(;i&&i!==document.body;){const e=V(i);null!=e&&e.n&&(t=`${e.n}>${t}`),i=W(i)}n.data.object.placement={lineage:t}}j(n)}catch(e){c("Error sending Lite Action Telemetry",34019,{error:e.message})}}function H(e){try{if("auxclick"===e.type&&1!==e.button)return;const t=function(e){if(!e)return;if(!e.composedPath||"function"!=typeof e.composedPath)return e.target;{const t=e.composedPath();if(t.length>2&&"hasAttribute"in t[0]&&!t[0].hasAttribute(P)&&"[object ShadowRoot]"===Object.prototype.toString.call(t[1])&&"hasAttribute"in t[2]&&t[2].hasAttribute(P))return t[2];if(t.length>0)return t[0]}}(e),n=t&&function(e){const t=20;for(let o=0;o<t&&e&&!J(e);o++){var n;e=e.assignedSlot||e.parentElement||(null===(n=e.parentNode)||void 0===n?void 0:n.host)}if(!J(e))return;return e}(t);if(n){const t=e.type;$(n,F[t]||"click")}}catch(e){c("Error sending Click Event Telemetry",34019,{error:e.message})}}function J(e){if(!e)return!1;if("BUTTON"===e.nodeName||e.hasAttribute("href")||e.getAttribute&&"button"===e.getAttribute("role")||e.form)return!0;const t=V(e);return t&&(5===t.t||11===t.t||t.b&&e.tagName.includes("-"))}function V(e){try{const t=e.getAttribute(P);return t&&JSON.parse(t)}catch(e){c("Error parsing telemetry attribute",34019,{error:e.message})}}function W(e){return e.assignedSlot||e.parentElement||e.parentNode.host}const F={auxclick:"middleclick",contextmenu:"rightclick"},z=e=>{H(e)},G=e=>{e.target&&$(e.target,"submit")};function Y(e){const t=performance.getEntriesByType("visibility-state").filter((t=>t.startTime<e));if(0===t.length)return e;let n=0;for(let i=0;i<t.length;i++){const r=t[i];var o;if("visible"===r.name)n+=((null===(o=t[i+1])||void 0===o?void 0:o.startTime)??e)-r.startTime}return n}var K;!function(e){e.visibility="visibility",e.adServed="adserved",e.click="click"}(K||(K={}));const Q=["control icon-only","menu","ad-label","ad-choice"],X="cs-personalized-feed",Z="send-lite-ad-beacon-start",ee="send-lite-ad-beacon-duration";function te(){const e=null===(t=document.querySelector("edge-chromium-page"))||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector("grid-view-feed"))||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector("cs-super-container"))||void 0===t||null===(t=t.shadowRoot)||void 0===t||null===(t=t.querySelector(X))||void 0===t||null===(t=t.shadowRoot)||void 0===t?void 0:t.querySelector("cs-feed-layout");var t,n;return e||(null===(n=document.querySelector("edge-chromium-page"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelector("waterfall-view-feed"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelector("cs-super-container"))||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.querySelector("cs-responsive-feed-layout"))}function ne(e,t){var n;return(null==e||null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelectorAll(t))||[]}function oe(e,t,n,o){var i;if(!o)return null===(i=e[n])||void 0===i||null===(i=i.shadowRoot)||void 0===i?void 0:i.querySelector(`#${t}`);for(let n=0;n<(null==e?void 0:e.length);n++){var r,a,s;if("cs-native-ad-card"===(null===(r=e[n])||void 0===r?void 0:r.localName)||"cs-native-ad-card-bi"===(null===(a=e[n])||void 0===a?void 0:a.localName)||"cs-native-ad-card-with-cta"===(null===(s=e[n])||void 0===s?void 0:s.localName)){var d;const o=null===(d=e[n])||void 0===d||null===(d=d.shadowRoot)||void 0===d||null===(d=d.querySelector("cs-card"))||void 0===d||null===(d=d.querySelector("cs-content-card"))||void 0===d?void 0:d.getAttribute("data-t");if(o&&o.includes(t))return e[n]}else{var c;const o=null===(c=e[n])||void 0===c?void 0:c.getAttribute("data-t");if(o&&o.includes(t))return e[n]}}}function ie(){var e,t,n;if(null===(e=window.performance)||void 0===e||e.mark(Z),!window.isSSRCompleted)return;const o=te(),i=!(null===(r=document.querySelector("edge-chromium-page"))||void 0===r||null===(r=r.shadowRoot)||void 0===r||!r.querySelector("waterfall-view-feed"));var r;const a=function(e){var t;if("CS-RESPONSIVE-FEED-LAYOUT"===(null==e?void 0:e.tagName)){const t=[];let n=ne(e,"cs-native-ad-card, cs-native-ad-card-bi, cs-native-ad-card-with-cta");return n.length>0?n:(n=ne(e,"cs-responsive-card"),n.forEach((e=>{var n;null!=e&&null!==(n=e.id)&&void 0!==n&&n.startsWith("nativead")&&t.push(e)})),t)}return(null==e||null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelectorAll("cs-native-ad-card, cs-native-ad-card-bi, cs-native-ad-card-with-cta"))||[]}(o);null===(t=window.ssrAdData)||void 0===t||t.forEach(((e,t)=>{ae(e.beaconsJson,K.adServed);let n=oe(a,e.id,t,i);if(!n){var r,s,d,l;if(i)n=0==t?null==o||null===(r=o.shadowRoot)||void 0===r?void 0:r.querySelector("#nativead-river-2"):null==o||null===(s=o.shadowRoot)||void 0===s?void 0:s.querySelector("#nativead-river-1");else n=0==t?null==o||null===(d=o.shadowRoot)||void 0===d?void 0:d.querySelector("#nativead-river-1"):null==o||null===(l=o.shadowRoot)||void 0===l?void 0:l.querySelector("#nativead-resriver-1");if(!n){const o=function(e){const t=[];var n,o;return e?null===(n=document.querySelector("edge-chromium-page"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelector("waterfall-view-feed"))||void 0===n||null===(n=n.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-super-container"))||void 0===n||n.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-responsive-feed-layout"))||void 0===n||n.forEach((e=>{let n=ne(e,"cs-native-ad-card");var o,i;n.length>0?null===(o=n)||void 0===o||o.forEach((e=>{t.push(e)})):(n=ne(e,"cs-responsive-card"),null===(i=n)||void 0===i||i.forEach((e=>{var n;null!=e&&null!==(n=e.id)&&void 0!==n&&n.startsWith("nativead")&&t.push(e)})))}))})):null===(o=document.querySelector("edge-chromium-page"))||void 0===o||null===(o=o.shadowRoot)||void 0===o||null===(o=o.querySelector("grid-view-feed"))||void 0===o||null===(o=o.shadowRoot)||void 0===o||null===(o=o.querySelectorAll("cs-super-container"))||void 0===o||o.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll(X))||void 0===n||n.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-feed-layout"))||void 0===n||n.forEach((e=>{var n;null===(n=e.shadowRoot)||void 0===n||null===(n=n.querySelectorAll("cs-native-ad-card"))||void 0===n||n.forEach((e=>{t.push(e)}))}))}))})),t}(i);n=oe(o,e.id,t,i)}if(!n){var u,w,h,m;const n=(null==o||null===(u=o.shadowRoot)||void 0===u||null===(u=u.children)||void 0===u?void 0:u.length)||0,r=[];for(let e=0;e<n;e++){var v;r.push(null==o||null===(v=o.shadowRoot)||void 0===v||null===(v=v.children)||void 0===v||null===(v=v.item(e))||void 0===v?void 0:v.tagName)}const s=i?(null===(w=a[t])||void 0===w||null===(w=w.shadowRoot)||void 0===w||null===(w=w.querySelector("cs-responsive-card"))||void 0===w?void 0:w.outerHTML)||(null===(h=a[t])||void 0===h||null===(h=h.shadowRoot)||void 0===h||null===(h=h.querySelector("cs-card"))||void 0===h?void 0:h.outerHTML)||"":(null===(m=a[t])||void 0===m||null===(m=m.shadowRoot)||void 0===m||null===(m=m.querySelector("cs-card"))||void 0===m?void 0:m.outerHTML)||"";return void c("Ad render doesn't match ssr ad data",20193,{renderedCardTags:JSON.stringify(r),adDataId:e.id,renderedId:JSON.stringify(s)})}}window.adsListened?window.adsListened.push(n.id):window.adsListened=[n.id],n.addEventListener("click",(t=>{const n=t.composedPath();for(let e=0;e<7&&e<n.length;e++){const t=n[e];if(t.className&&Q.includes(t.className.replace(/\s/g,"")))return}ae(e.beaconsJson,K.click,e.clickBeaconJson)}));new IntersectionObserver(re(e.beaconsJson),{root:null,rootMargin:"0px",threshold:.5}).observe(n)})),null===(n=window.performance)||void 0===n||n.measure(ee,Z),window.individualBeaconMarkers?window.individualBeaconMarkers.push(Z):window.individualBeaconMarkers=[Z],window.individualBeaconMarkers.push(ee)}const re=e=>(t,n)=>{t&&t.forEach((t=>{t.intersectionRatio>=.5&&window.setTimeout((()=>{ae(e,K.visibility)}),1e3,n,t.target)}))};function ae(e,t,n){var o;if(null!=e&&e.length)try{const d=JSON.parse(e);let c;switch(t){case K.adServed:c=d&&d.trb;break;case K.visibility:c=d&&d.tvb;break;case K.click:c=n&&(null===(o=JSON.parse(n))||void 0===o?void 0:o.tcb)}for(let e=0;e<c.length;e++){var i,r;const n=c[e];if(t===K.visibility&&null!==(i=window.viewedBeaconUrls)&&void 0!==i&&i.includes(n)||t===K.adServed&&null!==(r=window.servedBeaconUrls)&&void 0!==r&&r.includes(n))continue;const o=performance.now();de(n,t,d.e);const l=se(n);if(null!==l){var a,s;const e=`start-fire-beacon-${l}-${t}`;null===(a=window.performance)||void 0===a||a.mark(e,{startTime:o});const n=`individual-ad-beacon-duration-${l}-${t}`;window.individualBeaconMarkers?window.individualBeaconMarkers.push(e):window.individualBeaconMarkers=[e],window.individualBeaconMarkers.push(n),null===(s=window.performance)||void 0===s||s.measure(n,e)}}}catch(t){c(`Fail to fire ad served call, Fail to parse beacon json tracking data: ${e}`,20179,{error:t.message})}}function se(e){try{const t=new URL(e),n=new URLSearchParams(t.search),o=n.get("tagId")??n.get("tid");return`${t.hostname}-${o}`}catch(e){return null}}function de(e,t,n){n||(e=decodeURIComponent(e)),e&&function(e,t){try{let t=new Image(1,1);t.src=e,t=null}catch(t){c(`Invalid beacon URL, Fail to parse beacon json tracking data: ${e}`,20189,{error:t.message})}finally{t===K.visibility?window.viewedBeaconUrls?window.viewedBeaconUrls.push(e):window.viewedBeaconUrls=[e]:t==K.adServed&&(window.servedBeaconUrls?window.servedBeaconUrls.push(e):window.servedBeaconUrls=[e])}}(e,t)}let ce=(new Date).getTime();class le{constructor(){this._published=[],this._subscribers=[]}publish(e){this._published.push(e),this._subscribers.forEach((t=>t(e)))}subscribe(e){this._subscribers.push(e),this._published.forEach((t=>e(t)))}bulkPublish(e){e.forEach((e=>this.publish(e)))}}(()=>{const e=location.search.toLowerCase().indexOf("ssronly=true")>-1;if(e&&(window.SSRONLY=e),!window.isSSREnabled)return;history.scrollRestoration="manual",window.setLiteTelemetryContract=R,window.sendLitePV=U,window.standbyClickEventsHandler=z,window.addEventListener("click",window.standbyClickEventsHandler),window.addEventListener("auxclick",window.standbyClickEventsHandler),window.addEventListener("contextmenu",window.standbyClickEventsHandler),window.searchFormSubmitListener=G,window.sendAdBeacon=ie,window.ssrLoadedExperience=new le,window.ssrLoadedBundles=new le,window.publishLoadedBundles=window.ssrLoadedExperience.bulkPublish.bind(window.ssrLoadedExperience),window.updateIdxId=q,window.markTTSR=(e,t)=>{window._pageTimings[`${e}-Init`]=t||Math.round(performance.now()),requestAnimationFrame((()=>{window._pageTimings[`${e}-RAF`]=Y(Math.round(performance.now())),setTimeout((()=>{window._pageTimings[e]=Y(Math.round(performance.now()))}))}))};const t=e=>{const t=(ce+16*Math.random())%16|0;return ce=Math.floor(ce/16),("x"===e?t:7&t|8).toString(16)},n=document.head.dataset&&document.head.dataset.info||"";if((n.includes("prg-swbspg-3h")||n.includes("prg-swbspg-6h"))&&(()=>{const e=performance.getEntriesByType("navigation");if(!e||!e.length)return!1;const t=e[0]&&e[0].serverTiming;return!(!t||!t.length)&&!!t.find((e=>e&&"cache"===e.name))})()){const e="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,t);window.updatedRequestId=e,o=e.toUpperCase(),x=o}var o;window.addEventListener("TTSR.SearchBox",(()=>{try{const e=window._sugi?document.querySelector("cs-ntp").shadowRoot.querySelector("cs-searchbox").shadowRoot.querySelector("form"):document.querySelector("edge-chromium-page").shadowRoot.querySelector("cs-header-core").shadowRoot.querySelector("common-search-box-edgenext").shadowRoot.querySelector("cs-common-search-box").shadowRoot.querySelector("form");if(!e)throw"Search box form element not found";e.addEventListener("submit",window.searchFormSubmitListener)}catch(e){c("Exception occurred while adding search box form submit event listener",34018,{error:e.message})}}),{once:!0}),window.addEventListener("TTSR.HeaderTag",(()=>{try{const e=["ms-rewards","notification-bell","common-settings-edgenext"],t=document.getElementsByTagName("edge-chromium-page")[0].shadowRoot.querySelector("cs-header-core").shadowRoot;for(const n of e){const e=t.querySelector(n);e&&(e.removeAttribute("needs-hydration"),e.setAttribute("needs-recreation",""))}}catch(e){c("SSR header components not found",20203,{error:e.message})}})),window.addEventListener("TTSR.TopSitesTag",(()=>{const e=document.getElementsByTagName("edge-chromium-page")[0].shadowRoot.querySelector("top-sites-edgenext");if(!e)return;let t;e.removeAttribute("needs-hydration"),e.setAttribute("needs-recreation","");try{t=JSON.parse(localStorage["TSNP1.topsites"])}catch(e){return}const n=e.shadowRoot,o=null==n?void 0:n.querySelectorAll("div.pill-top-site:not(.add-placeholder)");if(o.length>0){const e=Math.min(o.length,t.length);for(let n=0;n<e;n++){const e=t[n],i=o[n];e.contentViewTelemetryTag&&i.setAttribute("data-t",e.contentViewTelemetryTag),i.setAttribute("title",e.title),i.setAttribute("aria-label",e.title),i.querySelector(".image img").setAttribute("src",e.faviconUrl);const r=i.querySelector("a.control");r.setAttribute("href",e.url),e.anchorTelemetryTag?r.setAttribute("data-t",e.anchorTelemetryTag):c("No anchorTelemetryTag",34021,{error:`contentViewTelemetryTag is ${i.getAttribute("data-t")}`}),i.querySelector("a.control .top-site-title span").innerText=e.title}if(o.length>t.length)for(let t=e;t<o.length;t++)o[t].remove();return void window.markTTSR("TTSR.TopSitesEdgeNextWC")}const i=null==n?void 0:n.querySelectorAll("a.pill-top-site");if(i.length>0){const e=Math.min(i.length,t.length);for(let n=0;n<e;n++){const e=t[n],o=i[n];o.setAttribute("href",e.url),o.setAttribute("title",e.title),o.setAttribute("aria-label",e.title),o.querySelector(".left-part img").setAttribute("src",e.faviconUrl),o.querySelector(".left-part span").innerText=e.title,e.anchorTelemetryTag&&o.setAttribute("data-t",e.anchorTelemetryTag)}if(i.length>t.length)for(let t=e;t<i.length;t++)i[t].remove();window.markTTSR("TTSR.TopSitesEdgeNextWC")}else;}),{once:!0}),window.initCrsRequest=e=>{const{url:t}=e||{};t&&(window.crsRequestData=e,window.crsPromise=new Promise(((e,n)=>{fetch(t).then((t=>{e(t)})).catch((e=>{n(e)}))})))},window.isResized=!1,window.addEventListener("resize",(()=>window.isResized=!0),{once:!0}),window._sugi&&window.document.addEventListener("DOMContentLoaded",(()=>{if(!window.isSSRCompleted){const e=new URL(window.location.href);e.searchParams.append("csronly","true"),window.location.href=e.toString()}}),{once:!0})})()}();